<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Свадьба Валентин и Мария</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Фон с анимацией шелковой ткани -->
    <div class="silk-background"></div>
    <div class="app-container">
        <!-- Главная карточка с фото -->
        <section class="hero-section">
            <div class="photo-hero">
                <img src="welcome_photo.jpeg" alt="Валентин и Мария" id="weddingPhoto" onerror="this.style.display='none'">
                <div class="photo-overlay">
                    <div class="couple-names" id="coupleNames">Валентин и Мария</div>
                    <div class="wedding-date-hero" id="weddingDateHero">06.06.2026</div>
                </div>
            </div>
        </section>

        <!-- Приветствие -->
        <section class="greeting-section">
            <div class="section-card scroll-reveal">
                <h2 class="section-title scroll-reveal-item">ДОРОГИЕ ГОСТИ!</h2>
                <p class="greeting-text scroll-reveal-item">
                    Один день в этом году будет для нас особенным и мы хотим провести его в кругу близких и друзей. 
                    С большим удовольствием приглашаем вас на знаменательный праздник - нашу свадьбу.
                </p>
                <div class="heartbeat-line">
                    <svg viewBox="0 0 200 20" class="heartbeat-svg">
                        <path d="M0,10 Q50,5 100,10 T200,10" stroke="#5A7C52" stroke-width="2" fill="none"/>
                        <circle cx="100" cy="10" r="3" fill="#5A7C52"/>
                    </svg>
                </div>
            </div>
        </section>

        <!-- Календарь и обратный отсчет -->
        <section class="calendar-section">
            <div class="section-card scroll-reveal">
                <h2 class="section-title scroll-reveal-item">ДО СВАДЬБЫ ОСТАЛОСЬ</h2>
                <div class="countdown-clock" id="countdownClock">
                    <!-- Первый ряд: месяцы и дни -->
                    <div class="clock-row">
                        <div class="clock-item">
                            <div class="clock-flip">
                                <div class="clock-flip-top" id="monthsTop">0</div>
                                <div class="clock-flip-bottom" id="monthsBottom">0</div>
                            </div>
                            <div class="clock-label">месяцев</div>
                        </div>
                        <div class="clock-separator">:</div>
                        <div class="clock-item">
                            <div class="clock-flip">
                                <div class="clock-flip-top" id="daysTop">0</div>
                                <div class="clock-flip-bottom" id="daysBottom">0</div>
                            </div>
                            <div class="clock-label">дней</div>
                        </div>
                    </div>
                    <!-- Второй ряд: часы, минуты, секунды -->
                    <div class="clock-row">
                        <div class="clock-item">
                            <div class="clock-flip">
                                <div class="clock-flip-top" id="hoursTop">0</div>
                                <div class="clock-flip-bottom" id="hoursBottom">0</div>
                            </div>
                            <div class="clock-label">часов</div>
                        </div>
                        <div class="clock-separator">:</div>
                        <div class="clock-item">
                            <div class="clock-flip">
                                <div class="clock-flip-top" id="minutesTop">0</div>
                                <div class="clock-flip-bottom" id="minutesBottom">0</div>
                            </div>
                            <div class="clock-label">минут</div>
                        </div>
                        <div class="clock-separator">:</div>
                        <div class="clock-item">
                            <div class="clock-flip">
                                <div class="clock-flip-top" id="secondsTop">0</div>
                                <div class="clock-flip-bottom" id="secondsBottom">0</div>
                            </div>
                            <div class="clock-label">секунд</div>
                        </div>
                    </div>
                </div>
                <div class="calendar-preview">
                    <div class="calendar-date-full" id="calendarDateFull">Июнь 06 2026</div>
                </div>
            </div>
        </section>

        <!-- Форма подтверждения -->
        <section class="rsvp-section" id="rsvpSection">
            <div class="section-card scroll-reveal">
                <h2 class="section-title scroll-reveal-item">ПРИСУТСТВИЕ</h2>
                <p class="rsvp-text scroll-reveal-item">
                    Пожалуйста, подтвердите ваше присутствие на нашем празднике. 
                    Заполните форму ниже:
                </p>
                
                <form id="guestForm" class="rsvp-form">
                    <div class="form-group" id="mainGuestGroup">
                        <label for="firstName">Имя, Фамилия</label>
                        <input type="text" id="firstName" required minlength="2" placeholder="Имя">
                        <input type="text" id="lastName" required minlength="2" placeholder="Фамилия">
                        
                        <label for="category">Родство</label>
                        <select id="category" required class="form-select">
                            <option value="">Выберите...</option>
                            <option value="Семья">Семья</option>
                            <option value="Друзья">Друзья</option>
                            <option value="Родственники">Родственники</option>
                        </select>
                        
                        <label for="side">Сторона</label>
                        <select id="side" required class="form-select">
                            <option value="">Выберите...</option>
                            <option value="Жених">Жених</option>
                            <option value="Невеста">Невеста</option>
                            <option value="Общие">Общие</option>
                        </select>
                    </div>
                    
                    <div class="guests-list" id="guestsList"></div>
                    
                    <div class="form-group">
                        <button type="button" class="btn-add-guest" id="addGuestBtn">+ Добавить гостя</button>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn-confirm">Подтвердить</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Основная страница для подтвердивших гостей -->
        <div id="mainPage" style="display: none;">
            <!-- Заголовок -->
            <section class="main-hero-section">
                <div class="main-hero-card scroll-reveal">
                    <div class="main-couple-names scroll-reveal-item" id="mainCoupleNames">Валентин и Мария</div>
                    <div class="main-wedding-date scroll-reveal-item" id="mainWeddingDate">06 июня 2026</div>
                </div>
            </section>

            <!-- Приветствие -->
            <section class="main-greeting-section">
                <div class="section-card scroll-reveal">
                    <h2 class="section-title scroll-reveal-item">Дорогие родные и близкие</h2>
                    <p class="main-greeting-text scroll-reveal-item" id="mainGreetingText">
                        Мы давно ждали этого момента, когда сможем разделить с вами самый важный день в нашей жизни.
                    </p>
                </div>
            </section>

            <!-- Тайминг (План-сетка) -->
            <section class="timeline-section">
                <div class="section-card scroll-reveal">
                    <h2 class="section-title scroll-reveal-item">ПЛАН ДНЯ</h2>
                    <div class="timeline-container" id="timelineContainer">
                        <!-- Загружается динамически из API -->
                    </div>
                </div>
            </section>

            <!-- Дресс-код -->
            <section class="dresscode-section">
                <div class="dresscode-card scroll-reveal">
                    <h2 class="section-title scroll-reveal-item">ДРЕСС-КОД</h2>
                    <div class="color-palette scroll-reveal-item">
                        <div class="color-circle" style="background: #5A7C52;"></div>
                        <div class="color-circle" style="background: #4A6B42;"></div>
                        <div class="color-circle" style="background: #FFE9AD;"></div>
                        <div class="color-circle" style="background: #F8F8F8;"></div>
                        <div class="color-circle" style="background: #DBD0C4;"></div>
                    </div>
                    <div class="dresscode-slider scroll-reveal-item" id="dresscodeSlider">
                        <!-- Загружается динамически из папки res/dresscode -->
                    </div>
                </div>
            </section>

            <!-- Подсказки -->
            <section class="tips-section">
                <div class="tips-card scroll-reveal">
                    <h2 class="section-title scroll-reveal-item">ПОДСКАЗКИ</h2>
                    <div class="tips-container" id="tipsContainer">
                        <!-- Загружается из конфига или Google Sheets -->
                        <div class="tip-item scroll-reveal-item">
                            <h3 class="tip-title">Сюрпризы</h3>
                            <p class="tip-text">Мы будем рады любому вниманию, но больше всего ценим ваше присутствие!</p>
                        </div>
                        <div class="tip-item scroll-reveal-item">
                            <h3 class="tip-title">Цветы</h3>
                            <p class="tip-text">Если хотите подарить цветы, мы будем рады букетам в пастельных тонах.</p>
                        </div>
                        <div class="tip-item scroll-reveal-item">
                            <h3 class="tip-title">Подарки</h3>
                            <p class="tip-text">Ваше присутствие - лучший подарок! Но если хотите что-то подарить, мы будем благодарны.</p>
                        </div>
                        <div class="tip-item scroll-reveal-item">
                            <h3 class="tip-title">Если возникла проблема</h3>
                            <p class="tip-text">Свяжитесь с нами через контакты внизу страницы, мы обязательно поможем!</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Место проведения -->
            <section class="venue-section">
                <div class="section-card scroll-reveal">
                    <h2 class="section-title scroll-reveal-item">МЕСТО ПРОВЕДЕНИЯ</h2>
                    <div class="venue-info scroll-reveal-item">
                        <h3 class="venue-name" id="venueName">Санкт-Петербург</h3>
                        <p class="venue-address" id="venueAddress">Санкт-Петербург</p>
                    </div>
                    <div class="venue-image-container scroll-reveal-item" id="venueImageContainer">
                        <!-- Изображение загружается из res/venue -->
                    </div>
                    <div class="venue-map scroll-reveal-item" id="venueMap">
                        <!-- Яндекс карта -->
                    </div>
                </div>
            </section>

            <!-- Футер -->
            <section class="main-footer-section">
                <div class="section-card scroll-reveal">
                    <h2 class="section-title scroll-reveal-item">СВЯЗАТЬСЯ С НАМИ</h2>
                    <div class="contact-list">
                        <a href="#" class="contact-item" id="mainGroomContact">
                            <span class="contact-name">Валентин</span>
                            <span class="contact-telegram" id="mainGroomTelegram">@ezhigval</span>
                        </a>
                        <a href="#" class="contact-item" id="mainBrideContact">
                            <span class="contact-name">Мария</span>
                            <span class="contact-telegram" id="mainBrideTelegram">@mrfilmpro</span>
                        </a>
                    </div>
                    <div class="cancel-section">
                        <button type="button" class="btn-cancel" id="mainCancelInvitationBtn">Отменить приглашение</button>
                    </div>
                </div>
            </section>
        </div>

        <!-- Связаться с нами -->
        <section class="contact-section">
            <div class="section-card scroll-reveal">
                <h2 class="section-title scroll-reveal-item">СВЯЗАТЬСЯ С НАМИ</h2>
                <div class="contact-list">
                    <a href="#" class="contact-item" id="groomContact">
                        <span class="contact-name">Валентин</span>
                        <span class="contact-telegram" id="groomTelegram">@ezhigval</span>
                    </a>
                    <a href="#" class="contact-item" id="brideContact">
                        <span class="contact-name">Мария</span>
                        <span class="contact-telegram" id="brideTelegram">@</span>
                    </a>
                </div>
                <div class="cancel-section" id="cancelSection" style="display: none;">
                    <button type="button" class="btn-cancel" id="cancelInvitationBtn">Не смогу прийти</button>
                </div>
            </div>
        </section>

        <!-- Заключение -->
        <section class="closing-section">
            <div class="section-card scroll-reveal">
                <p class="closing-text scroll-reveal-item">До скорой встречи</p>
                <div class="couple-names-final scroll-reveal-item" id="coupleNamesFinal">Валентин и Мария</div>
                <div class="heartbeat-line">
                    <svg viewBox="0 0 200 20" class="heartbeat-svg">
                        <path d="M0,10 Q50,5 100,10 T200,10" stroke="#5A7C52" stroke-width="2" fill="none"/>
                        <circle cx="100" cy="10" r="3" fill="#5A7C52"/>
                    </svg>
                </div>
            </div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>
